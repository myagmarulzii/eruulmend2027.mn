# Эрүүл мэндийг дэмжих жил 2027 — санал хүсэлт хүлээн авах систем

Энэ төсөл нь эмч, эмнэлгийн ажилчдын санал хүсэлтийг 2027 оны "Эрүүл мэндийг дэмжих жил"-ийн хүрээнд цахимаар хүлээн авч, төрлөөр нь тооцоолон харах боломжтой жижиг хэмжээний PHP вэб аппликейшн юм. Аппликейшн нь мөн холбоо барих болон "Эрүүл мэнд хөгжлийн зуун" ТББ-д гишүүнээр элсэх хуудсуудыг агуулна.

## Шаардлага
- PHP 8.1+
- Вэб сервер эсвэл `php -S` командыг ашиглан ажиллуулах боломжтой

## Ашиглах заавар
1. Репог клoн хийж төслийн сан руу орно:
   ```bash
   git clone <repo-url>
   cd eruulmend2027.mn
   ```
2. PHP-ийн хөгжүүлэлтийн серверийг ажиллуулна:
   ```bash
   php -S localhost:8000 -t public
   ```
3. Дараах хаягаар орж системийг ашиглана: [http://localhost:8000](http://localhost:8000)

## Продакшнд байрлуулах
Доорх алхмууд нь уламжлалт LEMP (Linux, Nginx, MySQL, PHP) эсвэл LAMP (Linux, Apache, MySQL, PHP) сервер дээр төслийг байршуулахад
туслах ерөнхий заавар юм. Тухайн байгууллагын аюулгүй байдлын бодлого болон сүлжээний тохиргоонд нийцүүлэн нарийвчлан тааруулна уу.

1. **Серверийн орчин бэлтгэх**
   - Ubuntu 22.04 LTS зэрэг тогтвортой серверийн ОС ашиглана.
   - PHP 8.1+ (php-fpm), шаардлагатай өргөтгөлүүд (`php-json`, `php-mbstring`, `php-xml`, `php-curl`) болон Composer-ийг суулгана.
   - Nginx эсвэл Apache, мөн HTTPS сертификат тохируулах бол Certbot зэрэг хэрэгслийг урьдчилан суулгана.

2. **Төслийг байрлуулах**
   - Кодыг Git-ээс татаж `/var/www/eruulmend2027` гэх мэт ажиллуулах сан руу байршуулна.
   - `storage/` болон `public/` дотор байрлах JSON өгөгдлийн файлуудад бичих эрхтэй байлгахын тулд
     ```bash
     sudo chown -R www-data:www-data storage public
     sudo chmod -R 775 storage public
     ```
     командыг ажиллуулна (Nginx/Apache-ийн хэрэглэгч нь `www-data` байгаагүй бол тохируулна).

3. **Вэб серверийн тохиргоо**
   - Nginx-ийн жишээ сервер блок:
     ```nginx
     server {
         listen 80;
         server_name eruulmend2027.mn;
         root /var/www/eruulmend2027/public;

         index index.php;

         location / {
             try_files $uri /index.php?$query_string;
         }

         location ~ \.php$ {
             include snippets/fastcgi-php.conf;
             fastcgi_pass unix:/run/php/php8.1-fpm.sock;
         }

         location ~ /\.ht {
             deny all;
         }
     }
     ```
   - Apache ашиглавал `DocumentRoot`-ийг `public/` сан руу чиглүүлж, `AllowOverride All` тохиргоог идэвхжүүлнэ.

4. **HTTPS болон домэйн**
   - DNS-ээ серверийн IP рүү зааж, Certbot эсвэл ижил төрлийн хэрэгслээр Let’s Encrypt сертификат авна.
   - HTTP-ээс HTTPS рүү хүчээр чиглүүлэх дүрмийг Nginx/Apache дээр нэмнэ.

5. **Нөөцлөлт ба мониторинг**
   - `storage/data/submissions.json` файлыг тогтмол нөөцлөх автоматжуулалт нэм.
   - Серверийн аюулгүй байдал, системийн нөөцлөлт, PHP алдааны логийг хянах мониторинг тохируулна.

6. **Өсөлт, өргөтгөл хийх зөвлөмж**
   - Продакшнд өгөгдлийг RDBMS эсвэл Cloud өгөгдлийн сан руу шилжүүлэх, хэрэглэгчийн нэвтрэлт, аналитик модуль зэрэг
     нэмэлт боломжуудыг үе шаттайгаар хэрэгжүүлж болно.

## Гол боломжууд
- Санал илгээх маягт: саналуудыг дараах 5 ангиллаар хүлээн авна.
  - Цалин урамшуулал
  - Хүний нөөцийн сургалт хөгжил
  - Цахим ба Эрүүл мэндийн өгөгдөл
  - Эрүүл мэндийн даатгал
  - Нийгмийн эрүүл мэнд
- Ирсэн саналын тооллого: хадгалагдсан саналуудыг ангилал тус бүрээр тооцож харуулна.
- Лого болон загварчлал: "Эрүүл мэндийг дэмжих жил 2027" сэдэвтэй өнгө төрх, ил захидал маягийн логотой.
- Холбоо барих хуудас: утас, имэйл, ажлын цагийн мэдээлэл.
- Гишүүнээр элсэх хуудас: ТББ-д гишүүнээр элсэх мэдээлэл, анкетын маягт.

## Өгөгдлийн хадгалалт
Саналууд `storage/data/submissions.json` файлд хадгалагдана. Хэрэв файл байхгүй бол автоматаар үүснэ. Продакшнд ашиглах бол өгөгдлийг өгөгдлийн сантай холбож өргөтгөхийг зөвлөж байна.

## Хөгжүүлэлтийн тэмдэглэл
- Төсөл нь хүрээлэн буй орчны сүлжээний хязгаарлалтын улмаас бүрэн хэмжээний Laravel фреймворкийг татаж суулгах боломжгүй нөхцөлд Laravel-ийн файл бүтэц, урсгалыг дуурайлган бүтээгдсэн.
- Үйлдлийн логик нь `public/index.php` файлаар хөнгөвчилсөн маршрутын шийдлийг ашигладаг.

Үндсэн хэрэгцээ шаардлагын дагуу цаашид өгөгдлийн сан, хэрэглэгчийн нэвтрэлт, аналитик тайлангийн модулиудыг нэмж өргөтгөх боломжтой.
